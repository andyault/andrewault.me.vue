'use strict';BG.col={fg:'#333',acc:'#FFB8F1',bg:{hue:0,sat:0,val:97}};var scene={textures:['m7_map.png'],images:[],numZSegments:16};BG.init=function(canvas){this.onResize(canvas);this.initTextures()};BG.initTextures=function(){var _loop=function _loop(i){scene.images[i]={};var img=scene.images[i].img=new Image;img.src='assets/img/'+scene.textures[i];img.onload=function(){scene.images[i].w=img.width;scene.images[i].h=img.height}};for(var i=0;i<scene.textures.length;i++){_loop(i)}};BG.onResize=function(canvas){canvas.width=canvas.offsetWidth;canvas.height=canvas.offsetHeight};BG.think=function(w,h){};BG.draw=function(ctx){var w=ctx.canvas.width;var h=ctx.canvas.height;var w2=Math.ceil(w/2);var h2=Math.ceil(h/2);var img=scene.images[0];for(var i=0;i<h2;i++){var slice=1/h2;var frac=i*slice;var z=Math.pow(2,frac*10);var zfrac=z/Math.pow(2,10);var rw=w+w2*zfrac;ctx.drawImage(img.img,0,frac*img.h+1,img.w,1,w2-rw/2,h-i,rw,1)}if(img.h)return true};